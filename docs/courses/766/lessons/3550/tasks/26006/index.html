<!-- Generated by https://github.com/rodion-gudz/YandexLyceumDocs -->

<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <title>Задача "Прямоугольники с Ctrl+Z" </title>
    <link rel="stylesheet" href="/css/client.css"/>
	<link rel="stylesheet" href="/css/vendors.css">
	<link rel="stylesheet" href="/css/prism.css"/>
</head>
<body>
	<div class="layout">
		<div class="layout__wrapper layout__wrapper_type_narrow">
			<main class="layout__main"><a
					class="nav-tab nav-tab_back nav-tab_view_button"
					href="../.."><span data-lego="react"
			                           class="icon icon_type_arrow-short icon_direction_left icon_size_s nav-tab__arrow-icon"></span><span
					class="nav-tab__inner">Урок PG. События</span></a>
				<nav class="yd407c--arrow-navigation">
						<a class="yd407c--arrow-navigation__arrow yd407c--arrow-navigation__arrow_direction_left"
						   href="../25894">
                    <span data-lego="react"
                          class="icon icon_type_scroll icon_direction_left icon_size_l"></span></a>
						<a class="yd407c--arrow-navigation__arrow yd407c--arrow-navigation__arrow_direction_right"
						   href="../25933">
                        <span data-lego="react"
                              class="icon icon_type_scroll icon_direction_right icon_size_l"></span></a>
				</nav>
				<header class="yde1c4--task-header">
					<h1 class="heading heading_level_1 yde1c4--task-header__heading">Прямоугольники с Ctrl+Z</h1>
					<div class="y43a24--task-info__tag">
						<span class="task-tag task-tag_type_additional task-tag_size_m"></span>
						<div class="y43a24--task-info__tag-name">Дополнительные задачи</div>
					</div>
				</header>
				<section class="y6c2ac--task-description">
					<article class="y6c2ac--task-description__content">
						<p>Напишите программу, которая средствами Pygame отображает окно произвольного размера. При нажатии пользователем на левую кнопку мыши определяется одну из вершин прямоугольника (на экране ничего не меняется).</p>
<p>При движении мыши c&nbsp;зажатой кнопкой прямоугольник рисуется по&nbsp;двум вершинам, вторая&nbsp;&mdash; в&nbsp;текущей точке указателя мыши (как в&nbsp;графическом редакторе).</p>
<p>При отпускании прямоугольник фиксируется, и&nbsp;пользователь может начинать рисовать следующий.</p>
<p>При нажатии <strong>Ctrl+Z</strong> последний нарисованный прямоугольник удаляется.</p>
<p>Операцию можно повторять сколько угодно раз (должны быть удалены предпоследний нарисованный прямоугольник и&nbsp;так далее, если прямоугольников не&nbsp;остается&nbsp;&mdash; ничего не&nbsp;происходит).</p>
<p>Нажатие других клавиш (их&nbsp;комбинаций) на&nbsp;клавиатуре не&nbsp;влияет на&nbsp;работу программы.</p>
<p><img src="https://yastatic.net/s3/lyceum/content/problems/pygame2/ctrlz.gif" width="500" caption="false" /></p>
<p><em>Для решения этой задачи вам необходимо самостоятельно найти информацию по&nbsp;событиям KEYUP и&nbsp;KEYDOWN и&nbsp;научиться обрабатывать нажатия клавиш. Обратите внимание: в&nbsp;задаче требуется обработать <strong>одновременное</strong> нажатие двух клавиш. <strong>Подсказка</strong> по <a href="https://www.pygame.org/docs/ref/key.html#key-modifiers-label" target="_blank" rel="noopener">ссылке</a>.</em></p>
<h2>Примечания</h2>
<div class="notes">Задание проверяется преподавателем.</div>
								<h2>Решение</h2>
								<a class="nav-tab nav-tab_back nav-tab_view_button"
								   href="https://yastatic.net/s3/lyceum/files/6bd753e4-1948-4481-bf5f-5ffdd80f1606/solution.py"><span data-lego="react"
								                                   class="icon icon_type_arrow-short icon_direction_down icon_size_s nav-tab__arrow-icon"></span><span
										class="nav-tab__inner">Скачать</span></a>
									<details>
										<summary>Код</summary>
										<pre class="language-python" style="border-radius: 15px"><code
												class="language-python">import pygame


size = width, height = 400, 300
screen = pygame.display.set_mode(size)

running = True

spis = []
screen2 = pygame.Surface(screen.get_size())
x, y, w, h = 0, 0, 0, 0
drawing = False

try:
    while running:
        for event in pygame.event.get():
            if event.type == pygame.QUIT:
                running = False

            rp = 0
            if event.type == pygame.KEYDOWN:
                if event.key == pygame.K_z and ((event.mod & pygame.K_RCTRL) or (event.mod & pygame.K_LCTRL)):
                    screen2.fill((0, 0, 0))
                    del spis[-1]
                    for i in spis:
                        pygame.draw.rect(screen2, (255, 255, 255), ((i[0], i[1]), (i[2], i[3])), 5)

            if event.type == pygame.MOUSEBUTTONDOWN and event.button == 1:
                drawing = True
                x, y = event.pos

            if event.type == pygame.MOUSEBUTTONUP and event.button == 1:
                screen2.blit(screen, (0, 0))
                spis.append([x, y, w, h])
                drawing = False

            if event.type == pygame.MOUSEMOTION:
                if drawing:
                    w, h = event.pos[0] - x, event.pos[1] - y

        screen.fill(pygame.Color('black'))
        screen.blit(screen2, (0, 0))

        if drawing:
            pygame.draw.rect(screen, (255, 255, 255), ((x, y), (w, h)), 5)

        pygame.display.flip()
    pygame.quit()
except Exception:
    pygame.quit()</code></pre>
									</details>
							</article>
				</section>
			</main>
		</div>
		<aside class="layout__active-area">
			<nav class="yd609d--task-group-navigation">
				<ul class="yd609d--task-group-navigation__groups">
						<li class="yd609d--task-group-navigation__group"><span
								class="task-tag task-tag_type_classwork task-tag_size_l yd609d--task-group-navigation__tag"
								tabindex="8"></span>
							<ul class="yd609d--task-group-navigation__tasks">
									<li class="yd609d--task-group-navigation__task">
											<a class="yd609d--task-group-navigation__link"
											   href="../25959">
												<div class="indicator indicator_color_grey indicator_size_xs"></div>
											</a>
									</li>
									<li class="yd609d--task-group-navigation__task">
											<a class="yd609d--task-group-navigation__link"
											   href="../25779">
												<div class="indicator indicator_color_grey indicator_size_xs"></div>
											</a>
									</li>
									<li class="yd609d--task-group-navigation__task">
											<a class="yd609d--task-group-navigation__link"
											   href="../25786">
												<div class="indicator indicator_color_grey indicator_size_xs"></div>
											</a>
									</li>
							</ul>
						</li>
						<li class="yd609d--task-group-navigation__group"><span
								class="task-tag task-tag_type_homework task-tag_size_l yd609d--task-group-navigation__tag"
								tabindex="8"></span>
							<ul class="yd609d--task-group-navigation__tasks">
									<li class="yd609d--task-group-navigation__task">
											<a class="yd609d--task-group-navigation__link"
											   href="../25944">
												<div class="indicator indicator_color_grey indicator_size_xs"></div>
											</a>
									</li>
									<li class="yd609d--task-group-navigation__task">
											<a class="yd609d--task-group-navigation__link"
											   href="../26005">
												<div class="indicator indicator_color_grey indicator_size_xs"></div>
											</a>
									</li>
							</ul>
						</li>
						<li class="yd609d--task-group-navigation__group"><span
								class="task-tag task-tag_type_additional task-tag_size_l yd609d--task-group-navigation__tag"
								tabindex="8"></span>
							<ul class="yd609d--task-group-navigation__tasks">
									<li class="yd609d--task-group-navigation__task">
											<a class="yd609d--task-group-navigation__link"
											   href="../25894">
												<div class="indicator indicator_color_grey indicator_size_xs"></div>
											</a>
									</li>
									<li class="yd609d--task-group-navigation__task">
											<a class="yd609d--task-group-navigation__link  yd609d--task-group-navigation__link_checked"
											   href="../26006">
												<div class="indicator indicator_color_grey indicator_size_xs"></div>
											</a>
									</li>
									<li class="yd609d--task-group-navigation__task">
											<a class="yd609d--task-group-navigation__link"
											   href="../25933">
												<div class="indicator indicator_color_grey indicator_size_xs"></div>
											</a>
									</li>
							</ul>
						</li>
				</ul>
			</nav>
		</aside>
	</div>
	<script src="/js/prism.js"></script>
</body>
</html>