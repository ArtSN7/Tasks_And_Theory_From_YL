<!-- Generated by https://github.com/rodion-gudz/YandexLyceumDocs -->

<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <title>Задача "Телефоны. Революция" </title>
    <link rel="stylesheet" href="/css/client.css"/>
	<link rel="stylesheet" href="/css/vendors.css">
	<link rel="stylesheet" href="/css/prism.css"/>
</head>
<body>
	<div class="layout">
		<div class="layout__wrapper layout__wrapper_type_narrow">
			<main class="layout__main"><a
					class="nav-tab nav-tab_back nav-tab_view_button"
					href="../.."><span data-lego="react"
			                           class="icon icon_type_arrow-short icon_direction_left icon_size_s nav-tab__arrow-icon"></span><span
					class="nav-tab__inner">Урок QT3. Исключения</span></a>
				<nav class="yd407c--arrow-navigation">
						<a class="yd407c--arrow-navigation__arrow yd407c--arrow-navigation__arrow_direction_left"
						   href="../25784">
                    <span data-lego="react"
                          class="icon icon_type_scroll icon_direction_left icon_size_l"></span></a>
						<a class="yd407c--arrow-navigation__arrow yd407c--arrow-navigation__arrow_direction_right"
						   href="../25954">
                        <span data-lego="react"
                              class="icon icon_type_scroll icon_direction_right icon_size_l"></span></a>
				</nav>
				<header class="yde1c4--task-header">
					<h1 class="heading heading_level_1 yde1c4--task-header__heading">Телефоны. Революция</h1>
					<div class="y43a24--task-info__tag">
						<span class="task-tag task-tag_type_homework task-tag_size_m"></span>
						<div class="y43a24--task-info__tag-name">Домашняя работа</div>
					</div>
				</header>
				<section class="y6c2ac--task-description">
					<article class="y6c2ac--task-description__content">
						<!DOCTYPE html
  SYSTEM "html">
<div class="problem-statement">
   <div class="header">
      <h1 class="title">Телефоны. Революция</h1>
      <table>
         <tr class="time-limit">
            <td class="property-title">Ограничение времени</td>
            <td>1&nbsp;секунда</td>
         </tr>
         <tr class="memory-limit">
            <td class="property-title">Ограничение памяти</td>
            <td>64Mb</td>
         </tr>
         <tr class="input-file">
            <td class="property-title">Ввод</td>
            <td colspan="1">стандартный ввод или input.txt</td>
         </tr>
         <tr class="output-file">
            <td class="property-title">Вывод</td>
            <td colspan="1">стандартный вывод или output.txt</td>
         </tr>
      </table>
   </div>
   <h2></h2>
   <div class="legend"><span style="">
         <p>А теперь сделайте также проверку корректности <span style="font-weight:bold;">кодов стран</span> в случае, когда номер телефона начинается с "+", то есть допустимыми являются не только +7, но и такие коды: +359, +55, +1.
            <br> Несоответствие по этому критерию назовите "не определяется код страны".
         </p></span></div>
   <h3>Пример 1</h3>
   <table class="sample-tests">
      <thead>
         <tr>
            <th>Ввод</th>
            <th>Вывод</th>
         </tr>
      </thead>
      <tbody>
         <tr>
            <td><pre> 864357))4  92	8  2</pre></td>
            <td><pre>неверный формат</pre></td>
         </tr>
      </tbody>
   </table>
   <h3>Пример 2</h3>
   <table class="sample-tests">
      <thead>
         <tr>
            <th>Ввод</th>
            <th>Вывод</th>
         </tr>
      </thead>
      <tbody>
         <tr>
            <td><pre>8  114356 30</pre></td>
            <td><pre>неверное количество цифр</pre></td>
         </tr>
      </tbody>
   </table>
   <h3>Пример 3</h3>
   <table class="sample-tests">
      <thead>
         <tr>
            <th>Ввод</th>
            <th>Вывод</th>
         </tr>
      </thead>
      <tbody>
         <tr>
            <td><pre>+79700830356</pre></td>
            <td><pre>не определяется оператор сотовой связи</pre></td>
         </tr>
      </tbody>
   </table>
   <h3>Пример 4</h3>
   <table class="sample-tests">
      <thead>
         <tr>
            <th>Ввод</th>
            <th>Вывод</th>
         </tr>
      </thead>
      <tbody>
         <tr>
            <td><pre>8(916)    12 4 32-6 7</pre></td>
            <td><pre>+79161243267</pre></td>
         </tr>
      </tbody>
   </table>
   <h2>Примечания</h2>
   <div class="notes"><span style="">
         <p>В других странах операторы сотовой связи, которые работают в нашей стране могут не действовать, поэтому корректность операторов
            сотовой связи в других странах проверять не нужно.
         </p></span></div>
</div>
								<h2>Решение</h2>
								<a class="nav-tab nav-tab_back nav-tab_view_button"
								   href="https://yastatic.net/s3/lyceum/files/e491db0c-605b-4c4e-8043-5908d613d2bb/solution.py"><span data-lego="react"
								                                   class="icon icon_type_arrow-short icon_direction_down icon_size_s nav-tab__arrow-icon"></span><span
										class="nav-tab__inner">Скачать</span></a>
									<details>
										<summary>Код</summary>
										<pre class="language-python" style="border-radius: 15px"><code
												class="language-python">number = input().replace('\t', '').replace('\n', '').replace(' ', '')
mts = ['910', '911', '912', '913', '914', '915', '916', '917', '918', '919',
       '980', '981', '982', '983', '984', '985', '986', '987', '988', '989']
megafon = ['920', '921', '922', '923', '924', '925', '926', '927', '928',
           '929', '930', '931', '932', '933', '934', '935', '936', '937',
           '938', '939']
beeline = ['902', '903', '904', '905', '906', '960', '961', '962', '963',
           '964', '965', '966', '967', '968', '969']
ope = mts + megafon + beeline


class WrongNumber(Exception):
    pass


class WrongS(Exception):
    pass


class WrongOp(Exception):
    pass


class WrongK(Exception):
    pass


def check():
    if (number[0] == '+' and (number[:4] == '+359' or number[:3] == '+55' or number[:2] == '+1')) or\
            number[0] == '8' or number[:2] == '+7':
        if len(spis2) == 0:
            if number[0] == '8' or number[:2] == '+7':
                if "--" not in number and number[0] != "-" and number[-1] != "-":
                    if number.count("(") <= 1 and number.count(")") <= 1:
                        if number.count("(") == 1 and number.count(")") == 1:
                            if number.find("(") < number.find(")"):
                                if len(spis) == 11:
                                    if "".join(spis[1:4]) in ope:
                                        pass
                                    else:
                                        raise WrongOp
                                else:
                                    raise WrongS
                        elif number.count("(") == 0 and number.count(")") == 0:
                            if len(spis) == 11:
                                if "".join(spis[1:4]) in ope:
                                    pass
                                else:
                                    raise WrongOp
                            else:
                                raise WrongS
                        else:
                            raise WrongNumber()
                    else:
                        raise WrongNumber()
                else:
                    raise WrongNumber()
            elif number[:4] == '+359' or number[:3] == '+55' or number[:2] == '+1':
                check2()
            else:
                raise WrongK()
        else:
            raise WrongNumber()
    else:
        if number[0] == '+':
            raise WrongK()
        else:
            raise WrongNumber()


def check2():
    if len(spis2) == 0:
        if number[:4] == '+359' or number[:3] == '+55' or number[:2] == '+1':
            if "--" not in number and number[0] != "-" and number[-1] != "-":
                if number.count("(") <= 1 and number.count(")") <= 1:
                    if number.count("(") == 1 and number.count(")") == 1:
                        if number.find("(") < number.find(")"):
                            if len(spis) == 11:
                                pass
                            else:
                                raise WrongS
                    elif number.count("(") == 0 and number.count(")") == 0:
                        if len(spis) == 11:
                            pass
                        else:
                            raise WrongS
                    else:
                        raise WrongNumber()
                else:
                    raise WrongNumber()
            else:
                raise WrongNumber()
        else:
            raise WrongNumber()
    else:
        raise WrongNumber()


spis = []
spis2 = []
try:
    if number[0] == '8':
        for i in number:
            if i in '1234567890':
                spis.append(i)
            if i.isalpha():
                spis2.append(i)
    elif number[:2] == '+7' or number[:4] == '+359' or number[:3] == '+55' or number[:2] == '+1':
        for i in number[1:]:
            if i in '1234567890':
                spis.append(i)
            if i.isalpha():
                spis2.append(i)
except TypeError:
    print('error')

try:
    check()
    if number[0] == '8' or number[:2] == '+7':
        a = '+7'
        if number[0] == '8':
            for i in number[1:]:
                if i in '1234567890':
                    a += i
        elif number[:2] == '+7':
            for i in number[2:]:
                if i in '1234567890':
                    a += i
        print(a)
    elif number[:4] == '+359' or number[:3] == '+55' or number[:2] == '+1':
        a = ''
        for i in number:
            a += i
        print(a)
except WrongNumber:
    print('неверный формат')
except WrongS:
    print('неверное количество цифр')
except WrongOp:
    print('не определяется оператор сотовой связи')
except WrongK:
    print('не определяется код страны')</code></pre>
									</details>
							</article>
				</section>
			</main>
		</div>
		<aside class="layout__active-area">
			<nav class="yd609d--task-group-navigation">
				<ul class="yd609d--task-group-navigation__groups">
						<li class="yd609d--task-group-navigation__group"><span
								class="task-tag task-tag_type_classwork task-tag_size_l yd609d--task-group-navigation__tag"
								tabindex="8"></span>
							<ul class="yd609d--task-group-navigation__tasks">
									<li class="yd609d--task-group-navigation__task">
											<a class="yd609d--task-group-navigation__link"
											   href="../25892">
												<div class="indicator indicator_color_grey indicator_size_xs"></div>
											</a>
									</li>
									<li class="yd609d--task-group-navigation__task">
											<a class="yd609d--task-group-navigation__link"
											   href="../25950">
												<div class="indicator indicator_color_grey indicator_size_xs"></div>
											</a>
									</li>
									<li class="yd609d--task-group-navigation__task">
											<a class="yd609d--task-group-navigation__link"
											   href="../25913">
												<div class="indicator indicator_color_grey indicator_size_xs"></div>
											</a>
									</li>
									<li class="yd609d--task-group-navigation__task">
											<a class="yd609d--task-group-navigation__link"
											   href="../25979">
												<div class="indicator indicator_color_grey indicator_size_xs"></div>
											</a>
									</li>
									<li class="yd609d--task-group-navigation__task">
											<a class="yd609d--task-group-navigation__link"
											   href="../25677">
												<div class="indicator indicator_color_grey indicator_size_xs"></div>
											</a>
									</li>
							</ul>
						</li>
						<li class="yd609d--task-group-navigation__group"><span
								class="task-tag task-tag_type_homework task-tag_size_l yd609d--task-group-navigation__tag"
								tabindex="8"></span>
							<ul class="yd609d--task-group-navigation__tasks">
									<li class="yd609d--task-group-navigation__task">
											<a class="yd609d--task-group-navigation__link"
											   href="../25784">
												<div class="indicator indicator_color_grey indicator_size_xs"></div>
											</a>
									</li>
									<li class="yd609d--task-group-navigation__task">
											<a class="yd609d--task-group-navigation__link  yd609d--task-group-navigation__link_checked"
											   href="../25766">
												<div class="indicator indicator_color_grey indicator_size_xs"></div>
											</a>
									</li>
									<li class="yd609d--task-group-navigation__task">
											<a class="yd609d--task-group-navigation__link"
											   href="../25954">
												<div class="indicator indicator_color_grey indicator_size_xs"></div>
											</a>
									</li>
									<li class="yd609d--task-group-navigation__task">
											<a class="yd609d--task-group-navigation__link"
											   href="../25707">
												<div class="indicator indicator_color_grey indicator_size_xs"></div>
											</a>
									</li>
							</ul>
						</li>
						<li class="yd609d--task-group-navigation__group"><span
								class="task-tag task-tag_type_additional task-tag_size_l yd609d--task-group-navigation__tag"
								tabindex="8"></span>
							<ul class="yd609d--task-group-navigation__tasks">
									<li class="yd609d--task-group-navigation__task">
											<a class="yd609d--task-group-navigation__link"
											   href="../25810">
												<div class="indicator indicator_color_grey indicator_size_xs"></div>
											</a>
									</li>
									<li class="yd609d--task-group-navigation__task">
											<a class="yd609d--task-group-navigation__link"
											   href="../25683">
												<div class="indicator indicator_color_grey indicator_size_xs"></div>
											</a>
									</li>
							</ul>
						</li>
				</ul>
			</nav>
		</aside>
	</div>
	<script src="/js/prism.js"></script>
</body>
</html>