<!-- Generated by https://github.com/rodion-gudz/YandexLyceumDocs -->

<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <title>Учебник | Методы split и join. Списочные выражения </title>
    <link rel="stylesheet" href="/css/client.css"/>
	<link rel="stylesheet" href="/css/material.css">
	<link rel="stylesheet" href="/css/prism.css"/>
</head>
<body>
	<div class="lesson-material">
		<div class="layout">
			<div class="layout__wrapper layout__wrapper_type_narrow layout__wrapper_fixed">
				<main class="layout__main">
					<div class="lesson-material__wrapper">
						<a class="nav-tab nav-tab_back nav-tab_view_button" href="../..">
						<span data-lego="react"
						      class="icon icon_type_arrow-short icon_direction_left icon_size_s nav-tab__arrow-icon"></span>
							<span class="nav-tab__inner">Урок split и join</span>
						</a>
						<section class="lesson-material__content">
							<article class="material"><h1>Методы split и&nbsp;join. Списочные выражения</h1>
<section class="material__plan"><nav>
<ol>
<li><a class="material__link" href="#1">Методы split и&nbsp;join</a></li>
<li><a class="material__link" href="#2">Списочные выражения</a></li>
<li><a class="material__link" href="#3">Использование списочных выражений в&nbsp;аргументах методов split и&nbsp;join. Считывание значений, введенных одной строкой</a></li>
</ol>
</nav></section>
<section class="material__annotation">
<h2>Аннотация</h2>
<p>В&nbsp;этом уроке рассматриваются два очень популярных метода строк&nbsp;&mdash; <var>split</var> и&nbsp;<var>join</var>. Во&nbsp;второй части рассматриваются списочные выражения (<code>python list comprehensions [... for ... in ...]</code>), которые в&nbsp;сочетании с&nbsp;методом <var>split</var> позволяют, например, считывать из&nbsp;стандартного потока ввода несколько значений одной строкой.</p>
</section>
<section class="material__chapter">
<h2 id="1">Методы split и&nbsp;join</h2>
<p>Изучая множества и&nbsp;списки, мы&nbsp;уже неоднократно встречались с&nbsp;методами&nbsp;&mdash; функциями, &laquo;приклеенными&raquo; к&nbsp;объекту (списку или множеству) и&nbsp;изменяющими его содержимое.</p>
<p>Методы есть не&nbsp;только у&nbsp;списков и&nbsp;множеств, но&nbsp;и&nbsp;у&nbsp;строк. Сегодня мы&nbsp;изучим два очень полезных метода строк&nbsp;&mdash; <var>split</var> и&nbsp;<var>join</var>. Они противоположны по&nbsp;смыслу: <var>split</var> разбивает строку по&nbsp;произвольному разделителю на&nbsp;список &laquo;слов&raquo;, а&nbsp;<var>join</var> собирает из&nbsp;списка слов единую строку через заданный разделитель.</p>
<p>Чтобы вызвать эти методы, необходимо использовать уже знакомый нам синтаксис. После имени переменной, содержащей объект-строку, или просто после строки через точку пишется имя метода, затем в&nbsp;круглых скобках указываются аргументы. <var>split</var> и&nbsp;<var>join</var>, в&nbsp;отличие, например, от&nbsp;метода списков <var>append</var> или метода множеств <var>add</var>, не&nbsp;изменяют объект, которому принадлежат, а&nbsp;создают <strong>новый</strong> (список или строку) и&nbsp;возвращают его, как это делают обычные функции типа <var>len</var>.</p>
<section class="material__note">
<p class="material__note-heading"><strong>Метод split</strong></p>
<p>Метод <var>split</var> можно вызвать вообще без аргументов или с&nbsp;одним аргументом-строкой. В&nbsp;первом случае строка разбивается на&nbsp;части, разделенные любыми символами пустого пространства (набором пробелов, символом табуляции и&nbsp;т.&nbsp;д.). Во&nbsp;втором случае разделителем слов считается строка-аргумент. Из&nbsp;получившихся слов формируется список.</p>
</section>
<p>В&nbsp;этом примере все сравнения истинны, т.&nbsp;е. все вызовы функции <var>print</var> выведут True.</p>
<pre><code class="language-python">s = 'раз два три'
print(s.split() == ['раз', 'два', 'три'])
print('     one two  three  '.split() == ['one', 'two', 'three'])
print('192.168.1.1'.split('.') == ['192', '168', '1', '1'])
print(s.split('а') == ['р', 'з дв', ' три'])
print('##A##B####C####'.split('##') == ['', 'A', 'B', '','C', '', ''])
</code></pre>
<pre><samp>True
True
True
True
True
True
</samp></pre>
<p>В&nbsp;этом примере обратите внимание на последнюю строчку. Если разделитель встречается несколько раз подряд или идет в начале или в конце строки, то в списке будут созданы пустые элементы. Это важдный момент, который надо запомнить.</p>
<section class="material__note">
<p class="material__note-heading"><strong>Метод join</strong></p>
<p><var>join</var>&nbsp;же всегда принимает один аргумент&nbsp;&mdash; список слов, которые нужно <strong>склеить</strong>. Разделителем (точнее, &laquo;соединителем&raquo;) служит та&nbsp;самая строка, чей метод <var>join</var> вызывается. Это может быть и&nbsp;пустая строка, и&nbsp;пробел, и&nbsp;символ новой строки, и&nbsp;что угодно еще. В&nbsp;этих примерах все сравнения тоже истинны и&nbsp;каждый <var>print</var> выведет True.</p>
</section>
<pre><code class="language-python">s = ['Тот', 'Кого', 'Нельзя', 'Называть']
print(''.join(s) == 'ТотКогоНельзяНазывать')
print(' '.join(s) == 'Тот Кого Нельзя Называть')
print('-'.join(s) == 'Тот-Кого-Нельзя-Называть')
print('! '.join(s) == 'Тот! Кого! Нельзя! Называть')
</code></pre>
<pre><samp>True
True
True
True</samp></pre>
<p>Итак, <var>split</var> служит для преобразования строки в&nbsp;список, а&nbsp;<var>join</var>&nbsp;&mdash; для преобразования списка в&nbsp;строку:</p>
<div class="material__content-positioner"><img class="material__illustration" src="https://yastatic.net/s3/lyceum/content/images/first-year/lesson-13/split-join.svg" width="680" height="auto" /></div>
<p>Обратите внимание: <var>split</var> и&nbsp;<var>join</var>&nbsp;&mdash; методы <strong>строк</strong>. Попытка вызвать такой метод у&nbsp;объекта, не&nbsp;являющегося строкой, вызовет ошибку! Например, если попытаться написать заведомо бессмысленное, с&nbsp;точки зрения интерпретатора Python, выражение:</p>
<pre><code class="language-python">[1, 2, 3].join([4, 5, 6])
</code></pre>
<pre><samp>AttributeError                 Traceback (most recent call last)
&lt;ipython-input-3-404b5f4d9169&gt; in &lt;module&gt;()
----&gt; 1 [1, 2, 3].join([4, 5, 6])

AttributeError: 'list' object has no attribute 'join'</samp></pre>
<p>Как видно, указан тип объекта (<code>[1, 2, 3]</code>&nbsp;&mdash; список, <var>list</var>) и&nbsp;имя отсутствующего у&nbsp;него метода&nbsp;&mdash; <var>join</var>, который мы&nbsp;пытаемся вызвать.</p>
</section>
<section class="material__chapter">
<h2 id="2">Списочные выражения</h2>
<section class="material__note">
<p class="material__note-heading"><strong>Списочные выражения</strong></p>
<p>Для генерации списков из&nbsp;неповторяющихся элементов в&nbsp;Python имеется удобная синтаксическая конструкция&nbsp;&mdash; списочное выражение (list comprehension). Она позволяет создавать элементы списка в&nbsp;цикле <var>for</var>, не&nbsp;записывая цикл целиком.</p>
</section>
<p>Например, если нам необходимо создать список квадратов целых чисел от&nbsp;0&nbsp;до&nbsp;9&nbsp;включительно, мы&nbsp;можем записать следующий код:</p>
<pre><code class="language-python">squares = []
for i in range(10):
    squares.append(i ** 2)
print(squares)
</code></pre>
<pre><samp>[0, 1, 4, 9, 16, 25, 36, 49, 64, 81]</samp></pre>
<p>То&nbsp;же самое, но&nbsp;гораздо короче можно сделать с&nbsp;помощью списочного выражения:</p>
<pre><code class="language-python">squares = [i ** 2 for i in range(10)]
print(squares)
</code></pre>
<pre><samp>[0, 1, 4, 9, 16, 25, 36, 49, 64, 81]</samp></pre>
<p>А&nbsp;если нам необходимы квадраты не&nbsp;всех чисел, а&nbsp;только четных? Тогда можно добавить условие:</p>
<pre><code class="language-python">even_squares = []
for i in range(10):
    if i % 2 == 0:
        even_squares.append(i ** 2)
print(even_squares)
</code></pre>
<pre><samp>[0, 4, 16, 36, 64]</samp></pre>
<p>То&nbsp;же самое, но&nbsp;короче, с&nbsp;помощью списочного выражения:</p>
<pre><code class="language-python">even_squares = [i ** 2 for i in range(10) if i % 2 == 0]
print(even_squares)
</code></pre>
<pre><samp>[0, 4, 16, 36, 64]</samp></pre>
<p>На&nbsp;рисунке показано соответствие между кодом заполнения списка с&nbsp;помощью цикла <var>for</var> и&nbsp;списочным выражением:</p>
<div class="material__content-positioner"><img class="material__illustration" src="https://yastatic.net/s3/lyceum/content/image/split-join-2.png" width="680" height="auto" /></div>
<p>В&nbsp;списочном выражении можно пройти по&nbsp;двум или более циклам:</p>
<pre><code class="language-python">print([i * j for i in range(3) for j in range(3)]) 
</code></pre>
<pre><samp>[0, 0, 0, 0, 1, 2, 0, 2, 4]</samp></pre>
<p>На&nbsp;самом деле квадратные скобки не&nbsp;являются неотъемлемой частью списочного выражения. Если их&nbsp;не&nbsp;поставить, выражение будет вычисляться по&nbsp;мере надобности&nbsp;&mdash; когда очередной элемент становится нужен. Заключая списочное выражение в&nbsp;квадратные скобки, мы&nbsp;тем самым даем инструкцию сразу создать все элементы и&nbsp;составить из&nbsp;них список. Пока что мы&nbsp;в&nbsp;основном будем пользоваться именно такими списочными выражениями&nbsp;&mdash; заключенными в&nbsp;квадратные скобки и&nbsp;превращенными таким образом в&nbsp;список.</p>
<section class="material__note">
<p class="material__note-heading"><strong>Использование списочных выражений</strong></p>
<p>Списочные выражения часто используются для&nbsp;инициализации списков. Дело в&nbsp;том, что&nbsp;в&nbsp;Python не&nbsp;принято создавать пустые списки, чтобы потом заполнять их&nbsp;значениями, если можно этого избежать.</p>
</section>
<p>Если&nbsp;все-таки необходимо создать пустой список (скажем, длиной 10) и&nbsp;заполнить его нулями (не&nbsp;может&nbsp;же он&nbsp;быть совсем пустой), это легко сделать, используя умножение списка на&nbsp;число: <code>[0] * 10</code>.</p>
</section>
<section class="material__chapter">
<h2 id="3">Использование списочных выражений в&nbsp;аргументах методов split и&nbsp;join. Считывание значений, введенных одной строкой</h2>
<p>Списочные выражения часто используют в&nbsp;аргументах методов <var>split</var> и&nbsp;<var>join</var>. Например, комбинация метода <var>split</var> и&nbsp;списочного выражения позволяют нам удобно считать числа, записанные в&nbsp;одну строку:</p>
<pre><code class="language-python">a = [int(x) for x in '976 929 289 809 7677'.split()]
evil, good = [int(x) for x in '666 777'.split()]
print(evil, good, sep='\n')
</code></pre>
<pre><samp>666
777</samp></pre>
<p>Здесь строка (обычно она не&nbsp;задается прямо в&nbsp;выражении, а&nbsp;получается из&nbsp;<code>input()</code>) разделяется на&nbsp;отдельные слова с&nbsp;помощью <var>split</var>. Затем списочное выражение пропускает каждый элемент получившегося списка через функцию <var>int</var>, превращая строку <code>'976'</code> в&nbsp;число <code>976</code>. Можно собрать все получившиеся значения в&nbsp;один список или разложить их&nbsp;по&nbsp;отдельным переменным с&nbsp;помощью множественного присваивания, как во&nbsp;второй строчке примера.</p>
<p>Рассмотрим и&nbsp;пример использования метода <var>join</var> вместе со&nbsp;списочным выражением. Выведем на&nbsp;одной строке список квадратов натуральных чисел от&nbsp;1&nbsp;до&nbsp;9: <code>1^2=1, 2^2=4, 3^2=9...</code> Для этого сначала с&nbsp;помощью списочного выражения сформируем список строк вида <code>['1^2=1', '2^2=4', '3^2=9', ...]</code>, а&nbsp;затем &laquo;склеим&raquo; его в&nbsp;одну строку методом <var>join</var>:</p>
<pre><code class="language-python">print(', '.join(str(i) + '^2=' + str(i ** 2) for i in range(1, 10))) 
</code></pre>
<pre><samp>1^2=1, 2^2=4, 3^2=9, 4^2=16, 5^2=25, 6^2=36, 7^2=49, 8^2=64, 9^2=81</samp></pre>
<p>Заметьте, что в&nbsp;аргументе функции <var>join</var> стоит списочное выражение, не&nbsp;заключенное в&nbsp;квадратные скобки (это можно сделать, но&nbsp;необязательно).</p>
<p>Будьте внимательны! Обычно возведение в&nbsp;степень обозначают &laquo;крышечкой&raquo; перед степенью, но&nbsp;в&nbsp;Python эта &laquo;крышечка&raquo; обозначает совсем другое, а&nbsp;возведение в&nbsp;степень выполняется оператором <code>**</code>. В&nbsp;примере &laquo;крышечка&raquo; используется только как обозначение операции возведения в&nbsp;степень.</p>
</section></article>
						</section>
					</div>
				</main>
			</div>
		</div>
<footer class="footer">
	<div class="footer__controls">
		<a rel="noopener noreferrer" target="_blank" class="footer__help-link"
		   href="https://yandex.ru/legal/lms_termsofuse/">Terms of use</a>
	</div>
	<div class="footer__copyright">
		<div>
			<div class="Markdown">
				<div class="paragraph">Generated by <a rel="noopener noreferrer" target="_blank"
				                                       class="footer__help-link"
				                                       href="https://github.com/rodion-gudz/YandexLyceumDocs">Yandex Lyceum Docs</a>
				</div>
			</div>
		</div>
	</div>
</footer>	</div>
	<script src="/js/prism.js"></script>
</body>
</html>