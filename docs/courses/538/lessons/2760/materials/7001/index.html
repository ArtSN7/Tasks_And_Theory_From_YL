<!-- Generated by https://github.com/rodion-gudz/YandexLyceumDocs -->

<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <title>Учебник | Библиотеки Python. Встроенные модули </title>
    <link rel="stylesheet" href="/css/client.css"/>
	<link rel="stylesheet" href="/css/material.css">
	<link rel="stylesheet" href="/css/prism.css"/>
</head>
<body>
	<div class="lesson-material">
		<div class="layout">
			<div class="layout__wrapper layout__wrapper_type_narrow layout__wrapper_fixed">
				<main class="layout__main">
					<div class="lesson-material__wrapper">
						<a class="nav-tab nav-tab_back nav-tab_view_button" href="../..">
						<span data-lego="react"
						      class="icon icon_type_arrow-short icon_direction_left icon_size_s nav-tab__arrow-icon"></span>
							<span class="nav-tab__inner">Урок Библиотеки №1</span>
						</a>
						<section class="lesson-material__content">
							<article class="material"><h1>Библиотеки Python. Часть 1. Встроенные модули</h1>
<section class="material__plan"><nav>
<ol>
<li><a class="material__link" href="#1">Библиотеки как наследие</a></li>
<li><a class="material__link" href="#2">Репозиторий PyPI</a></li>
<li><a class="material__link" href="#3">Встроенные модули</a></li>
<li><a class="material__link" href="#4">Модуль math</a></li>
<li><a class="material__link" href="#5">Модуль random</a></li>
<li><a class="material__link" href="#6">Модуль datetime</a></li>
<li><a class="material__link" href="#7">Модуль pprint</a></li>
</ol>
</nav></section>
<section class="material__annotation">
<h2>Аннотация</h2>
<p>Python&nbsp;&mdash; высокоуровневый язык программирования, объектно-ориентированный, модульный и&nbsp;подчеркнуто легкочитаемый, что делает его очень простым в&nbsp;изучении. Python широко применяется в&nbsp;образовательной сфере, для научных вычислений, больших данных и&nbsp;машинного обучения, в&nbsp;веб-разработке, графике, GUI, играх и&nbsp;других направлениях. В&nbsp;связи с&nbsp;огромной сферой применения существует уже бесчисленное количество библиотек, упрощающих программирование на&nbsp;этом языке без необходимости написания излишнего кода. На&nbsp;этом уроке мы&nbsp;начнем знакомство со&nbsp;стандартными библиотеками языка Python.</p>
</section>
<section class="material__chapter">
<h2 id="1">Библиотеки как наследие</h2>
<p>У&nbsp;каждого языка программирования есть свои особенности, в&nbsp;том числе и&nbsp;у&nbsp;Python. Есть сферы деятельности, где он&nbsp;любим, а&nbsp;есть области, в&nbsp;которых он&nbsp;не&nbsp;очень силен и&nbsp;не&nbsp;пользуется популярностью.</p>
<p>Сначала поговорим о&nbsp;сильных сторонах.</p>
<section class="material__note">
<p class="material__note-heading"><strong>Сильные стороны Python</strong></p>
<ul>
<li>На&nbsp;Python легко научиться программировать (именно поэтому вы&nbsp;его и&nbsp;изучаете)</li>
<li>Благодаря строению языка и&nbsp;его динамической скриптовой природе разрабатывать на&nbsp;Python можно очень быстро</li>
</ul>
<p>Принцип прост: <strong>быстро изучить&nbsp;&mdash; быстро программировать</strong>.</p>
</section>
<p>В&nbsp;результате языком Python заинтересовались люди, которым нужно автоматизировать какие-то процессы в&nbsp;своей деятельности или &laquo;склеивать&raquo; несколько взаимосвязанных программ в&nbsp;комплексы. Обычно эти люди не&nbsp;программисты по&nbsp;специальности. Это инженеры, преподаватели, математики, физики, биологи, лингвисты&nbsp;&mdash; все они часто применяют Python в&nbsp;своей практике.</p>
<p>Вторая причина популярности Python связана с&nbsp;тем, что он&nbsp;очень быстро стал интегрироваться с&nbsp;огромным количеством библиотек, написанных на&nbsp;других языках программирования. Что-то очень похожее было когда-то с&nbsp;языком программирования Perl и&nbsp;его платформой <span style="text-decoration: underline; color: #0000ff;"> <a class="material__link" style="color: #0000ff; text-decoration: underline;" href="http://www.cpan.org/" target="_blank" rel="noopener noreferrer">CPAN</a>.</span></p>
<p>Теперь пришел черед познакомиться с&nbsp;термином &laquo;библиотека&raquo; в&nbsp;контексте программирования.</p>
<section class="material__note">
<p class="material__note-heading"><strong>Библиотека</strong></p>
<p>Библиотека в&nbsp;программировании&nbsp;&mdash; сборник подпрограмм или объектов, используемых для разработки программного обеспечения, или ПО. Так гласит Википедия.</p>
<p>Давайте немного поясним. Правила структурного программирования говорят, что любая программа должна иметь структуру, а&nbsp;именно: делиться на&nbsp;взаимодействующие компоненты (блоки)&nbsp;&mdash; файлы, функции, классы.</p>
</section>
<div class="material__content-positioner"><img class="material__illustration" src="https://yastatic.net/s3/lyceum/content/images/first-year/lesson-25/13.svg" width="600" height="auto" /></div>
<p>Это можно сравнить с&nbsp;разделением книг на&nbsp;главы, абзацы, слова&nbsp;&mdash; без такого деления трудно понять смысл. Этот принцип&nbsp;&mdash; первый важный этап в&nbsp;понимании сущности библиотеки.</p>
<p>Следующий этап заключается в возможности использовать часть кода одной программы из&nbsp;другой программы. Обычно это нужно, чтобы повторно использовать код: не&nbsp;писать одно и&nbsp;то&nbsp;же два раза. А еще&nbsp;&mdash; не&nbsp;переписывать код, написанный на&nbsp;другом языке программирования. Такое свойство часто называют модульностью.</p>
<p>Кстати, если&nbsp;бы все зарядки от&nbsp;сотовых телефонов были одинаковыми, вы&nbsp;бы могли насладиться модульностью в&nbsp;мире смартфонов. Был такой проект <span style="text-decoration: underline; color: #0000ff;"> <a class="material__link" style="color: #0000ff; text-decoration: underline;" href="https://ru.wikipedia.org/wiki/Project_Ara" target="_blank" rel="noopener noreferrer">Ara</a></span>&nbsp;&mdash; модульный смартфон, в&nbsp;который можно было ставить дополнительную память, элементы питания, фотокамеру.</p>
<div class="material__content-positioner"><img class="material__illustration" src="https://yastatic.net/s3/lyceum/content/image/ara.jpeg" width="600" height="auto" /></div>
<p>Самый простой контейнер для кода&nbsp;&mdash; функция. Часто используемые функции объединяются по&nbsp;своему типу в&nbsp;библиотеки. Например, функции по&nbsp;работе с&nbsp;видеофайлами, функции, отвечающие за&nbsp;соединение и&nbsp;получение информации из&nbsp;Интернета и&nbsp;т.&nbsp;д.</p>
<p>Библиотеки могут объединяться в&nbsp;более крупные сборники, в&nbsp;итоге иногда получаются настоящие монстры, относящиеся к&nbsp;какой-то широкой области. Например, OpenCV&nbsp;&mdash; это библиотека для компьютерного зрения, Django&nbsp;&mdash; для веб-программирования, Scipy&nbsp;&mdash; для научных вычислений.</p>
<p>В&nbsp;Python библиотеки называются <strong>модулями</strong>.</p>
<p>Итак, современный язык программирования напоминает наборы конструкторов, которые совместимы друг с&nbsp;другом.</p>
<div class="material__content-positioner"><img class="material__illustration" src="https://yastatic.net/s3/lyceum/content/images/first-year/lesson-25/5.svg" width="600" height="auto" /></div>
<p>Если вы&nbsp;программируете на&nbsp;Python, представьте себя ребенком, попавшим на&nbsp;огромный склад с&nbsp;конструкторами, где можно взять любой из&nbsp;них и&nbsp;делать с&nbsp;ним что угодно.</p>
<p>Именно так. Очень многие библиотеки абсолютно свободны (на&nbsp;их&nbsp;использование нет никаких ограничений), бесплатны, а&nbsp;их&nbsp;исходные коды доступны.</p>
<p>Некоторые библиотеки, например, связанные с&nbsp;математическими вычислениями, очень старые и&nbsp;написаны еще на&nbsp;Fortran. При этом они используются в&nbsp;современных проектах, поскольку созданы профессиональными математиками и&nbsp;инженерами, многократно проверены и&nbsp;оптимизированы.</p>
<p>В&nbsp;этом смысле <strong>библиотеки</strong>&nbsp;&mdash; такое&nbsp;же наследие человечества, как литература, музыка и&nbsp;архитектура.</p>
<p>Интересный факт: с&nbsp;точки зрения закона, программы являются литературными произведениями.</p>
</section>
<section class="material__chapter">
<h2 id="2">Репозиторий PyPI</h2>
<p><span style="text-decoration: underline; color: #0000ff;"> <a class="material__link" style="color: #0000ff; text-decoration: underline;" href="https://pypi.python.org/pypi" target="_blank" rel="noopener noreferrer">PyPI</a></span>&nbsp;&mdash; центральный репозиторий (хранилище) модулей для языка программирования Python. Он&nbsp;как PlayMarket для Android, AppStore для iPhone или CPAN для Perl.</p>
<p>Пройдите по&nbsp;ссылке. Вы&nbsp;увидите страницу, которая начинается со&nbsp;следующих слов:</p>
<p>The Python Package Index (PyPI) is a repository of software for the Python programming language.</p>
<p>PyPI helps you find and install software developed and shared by the Python community.</p>
<p>Обратите внимание: количество модулей уже превысило <strong>200 000</strong>!</p>
<p>Наверное, можно в&nbsp;шутку говорить, что у&nbsp;Python на&nbsp;все случаи жизни есть нужная библиотека.</p>
<p>Допустим, вы&nbsp;хотите написать программу-бота для &laquo;ВКонтакте&raquo;, чтобы она делала за&nbsp;вас репосты, ставила лайки, переписывалась с&nbsp;друзьями, предлагала подружиться... Так вот для этого тоже есть библиотека!</p>
<p>Как работать с&nbsp;PyPI, мы&nbsp;изучим на&nbsp;следующем уроке, а&nbsp;пока разберемся со&nbsp;встроенными модулями.</p>
</section>
<section class="material__chapter">
<h2 id="3">Встроенные модули</h2>
<p>Говорят, что Python поставляется уже с&nbsp;батарейками&nbsp;&mdash; даже стандартной библиотеки, входящей в&nbsp;комплект, уже достаточно для многих вещей.</p>
<div class="material__content-positioner"><img class="material__illustration" src="https://yastatic.net/s3/lyceum/content/images/first-year/lesson-25/15.svg" width="600" height="auto" /></div>
<p>Стандартной библиотеке посвящен <span style="text-decoration: underline; color: #0000ff;"> <a class="material__link" style="color: #0000ff; text-decoration: underline;" href="https://docs.python.org/3/library/" target="_blank" rel="noopener noreferrer">целый раздел документации</a></span>. Советуем вам хотя&nbsp;бы раз просмотреть его, чтобы примерно знать, какие вообще библиотеки бывают.</p>
<section class="material__note">
<p class="material__note-heading"><strong>Модули в&nbsp;Python</strong></p>
<p>Модули в&nbsp;Python устроены по&nbsp;иерархическому принципу, как каталоги в&nbsp;файловой системе. Один модуль может быть вложен в&nbsp;другой, причем вложенность не&nbsp;ограничена (хотя на&nbsp;практике редко бывает больше 4). Чтобы пользоваться функциями, объектами и&nbsp;классами из&nbsp;модуля, весь этот модуль или его часть нужно подключить к&nbsp;программе&nbsp;&mdash; <strong>импортировать</strong>.</p>
</section>
<p>Возникает вопрос: а&nbsp;почему&nbsp;бы не&nbsp;подключить все библиотеки сразу?</p>
<p>Можно, но&nbsp;это привело&nbsp;бы к&nbsp;нерациональному использованию оперативной памяти и&nbsp;очень долгой загрузке вашей программы.</p>
<section class="material__note">
<p class="material__note-heading"><strong>Важно!</strong></p>
<p>Поэтому есть правило: <strong>не&nbsp;импортируйте&nbsp;то, чем не&nbsp;пользуетесь</strong>.</p>
<p>За&nbsp;импорт в&nbsp;Python отвечает директива <var>import</var>.</p>
</section>
<p>Давайте посмотрим на&nbsp;примерах, как это происходит.</p>
<pre><code class="language-python">from math import pi # Возьмем число пи из библиотеки math
</code></pre>
<p>Теперь вам доступна переменная&nbsp;<var>pi</var>. (В&nbsp;Python это значение приближенно равно 3,141592653589793).</p>
<section class="material__note">
<p class="material__note-heading"><strong>Ключевое слово as</strong></p>
<p>Модуль, переменную, класс или функцию можно при импорте назвать своим именем&nbsp;&mdash; для этого служит ключевое слово&nbsp;<var>as</var>, например:</p>
<pre><code class="language-python">&gt;&gt;&gt; from math import pi as число_пи
&gt;&gt;&gt; число_пи
</code></pre>
<pre><samp>3.141592653589793</samp></pre>
</section>
<p>Более того, поскольку в&nbsp;программе на&nbsp;языке Python в&nbsp;именах допустимы буквенные символы любых алфавитов, можно использовать даже греческие буквы (впрочем, это неудобно, если у&nbsp;вас кириллическо-латинская клавиатура).</p>
<pre><code class="language-python">&gt;&gt;&gt; from math import pi as &pi;
&gt;&gt;&gt; print(&pi;)
</code></pre>
<pre><samp>3.141592653589793</samp></pre>
<p>Если нужно импортировать что-то с&nbsp;большей степенью вложенности, вам поможет символ ".", он&nbsp;выполняет ту&nbsp;же функцию, что и&nbsp;разные виды слешей в&nbsp;путях до&nbsp;файлов.</p>
<pre><code class="language-python"># мне нужна функция urlopen из request, 
# который находится внутри urllib
&gt;&gt;&gt; from urllib.request import urlopen
</code></pre>
<section class="material__note">
<p class="material__note-heading"><strong>Важно!</strong></p>
<p>Мы&nbsp;можем импортировать всю библиотеку, но&nbsp;тогда для доступа к&nbsp;ее&nbsp;содержимому нужно снова использовать точку:</p>
<pre><code class="language-python">&gt;&gt;&gt; import math
&gt;&gt;&gt; print(math.pi)
</code></pre>
<pre><samp>3.141592653589793</samp></pre>
</section>
<p>Или несколько точек. В&nbsp;любом случае аналогия с&nbsp;файловой структурой почти полная (объекты, функции и&nbsp;классы лежат в&nbsp;файлах, которые группируются в&nbsp;папки, которые тоже могут лежать в&nbsp;папках и&nbsp;т.&nbsp;д.).</p>
<pre><code class="language-python">&gt;&gt;&gt; import urllib
&gt;&gt;&gt; urllib.request.urlopen(...)
</code></pre>
<section class="material__note">
<p class="material__note-heading"><strong>Особенности импорта модулей</strong></p>
<p>Значения после директивы import можно писать через запятую:</p>
<pre><code class="language-python">&gt;&gt;&gt; from math import sin, cos, tan
</code></pre>
<p>Значок <code>*</code> означает, что из&nbsp;библиотеки нужно импортировать все, что доступно.</p>
<pre><code class="language-python">&gt;&gt;&gt; from math import *
</code></pre>
</section>
<p>Впрочем, так делать не&nbsp;рекомендуется, поскольку при таком подходе засоряется пространство имен.</p>
<pre><code class="language-python">&gt;&gt;&gt; import math
&gt;&gt;&gt; dir(math)
</code></pre>
<pre><samp>['__doc__', '__loader__', '__name__', '__package__', '__spec__', 'acos', 
 'acosh','asin', 'asinh', 'atan', 'atan2', 'atanh', 'ceil', 'copysign',
 'cos', 'cosh','degrees', 'e', 'erf', 'erfc', 'exp', 'expm1', 'fabs', 
 'factorial', 'floor','fmod', 'frexp', 'fsum', 'gamma', 'hypot', 'isfinite',
 'isinf', 'isnan', 'ldexp','lgamma', 'log', 'log10', 'log1p', 'log2',
 'modf', 'pi', 'pow', 'radians', 'sin','sinh', 'sqrt', 'tan', 'tanh', 'trunc']</samp></pre>
<pre><code class="language-python">&gt;&gt;&gt; help(math.sin)
</code></pre>
<pre><samp>Help on built-in function sin in module math:
 
sin(...)
    sin(x)
     
    Return the sine of x (measured in radians).</samp></pre>
<pre><code class="language-python">&gt;&gt;&gt; help(math.radians)
</code></pre>
<pre><samp>Help on built-in function radians in module math:
 
radians(...)
    radians(x)
     
    Convert angle x from degrees to radians.</samp></pre>
<pre><code class="language-python">&gt;&gt;&gt; sin(radians(30))
</code></pre>
<pre><samp>0.49999999999999994</samp></pre>
<p>Обратите внимание: часть имен начинается с&nbsp;символа "_". Это служебные имена, мы&nbsp;их&nbsp;пока рассматривать не&nbsp;будем, да&nbsp;и&nbsp;программисты ими пользуются редко.</p>
<section class="material__note">
<p class="material__note-heading"><strong>&laquo;Пасхальные яйца&raquo; в&nbsp;Python</strong></p>
<p>Говоря про встроенную библиотеку, нельзя не&nbsp;сказать о&nbsp;<span style="text-decoration: underline; color: #0000ff;"> <a class="material__link" style="color: #0000ff; text-decoration: underline;" href="https://ru.wikipedia.org/wiki/Пасхальное_яйцо_(виртуальное)" target="_blank" rel="noopener noreferrer">&laquo;пасхальных яйцах&raquo;</a></span> в&nbsp;Python. При импорте модуля <var>this</var> вы&nbsp;познакомитесь с&nbsp;дзеном Python.</p>
</section>
<pre><code class="language-python">&gt;&gt;&gt; import this
</code></pre>
<pre><samp>The Zen of Python, by Tim Peters
 
Beautiful is better than ugly.
Explicit is better than implicit.
Simple is better than complex.
Complex is better than complicated.
Flat is better than nested.
Sparse is better than dense.
Readability counts.
Special cases aren't special enough to break the rules.
Although practicality beats purity.
Errors should never pass silently.
Unless explicitly silenced.
In the face of ambiguity, refuse the temptation to guess.
There should be one-- and preferably only one --obvious way to do it.
Although that way may not be obvious at first unless you're Dutch.
Now is better than never.
Although never is often better than *right* now.
If the implementation is hard to explain, it's a bad idea.
If the implementation is easy to explain, it may be a good idea.
Namespaces are one honking great idea -- let's do more of those!</samp></pre>
<p>А&nbsp;импорт модуля с&nbsp;антигравитацией откроет в&nbsp;браузере комикс о&nbsp;том, что в&nbsp;Python действительно есть модули на&nbsp;все случаи жизни.</p>
<pre><code class="language-python">&gt;&gt;&gt; import antigravity
</code></pre>
<div class="material__content-positioner"><img class="material__illustration" src="https://yastatic.net/s3/lyceum/content/image/antigravity.png" width="550" height="auto" /></div>
</section>
<section class="material__chapter">
<h2 id="4">Модуль math</h2>
<p>Давайте вернемся к&nbsp;встроенному модулю <var>math</var> и&nbsp;посмотрим внимательнее на&nbsp;то, какие возможности он&nbsp;нам предоставляет.</p>
<p>Мы писали программу для вычисления факториала числа, оказывается, такая функция уже есть:</p>
<pre><code class="language-python">import math

print(math.factorial(5))
</code></pre>
<pre><samp>120</samp></pre>
<p>Довольно часто применяется и&nbsp;функция <var>gcd</var> для нахождения наибольшего общего делителя:</p>
<pre><code class="language-python">import math

print(math.gcd(500, 600))
</code></pre>
<pre><samp>100</samp></pre>
<p>Кроме того, есть функции для возведения в&nbsp;степень <var>pow</var>, которое принимает число, которое надо возвести в&nbsp;степень первым аргументом, а&nbsp;вторым аргументом&nbsp;&mdash; показатель степени, в&nbsp;которую надо возвести первый аргумент. А&nbsp;для извлечения квадратного корня числа есть функция <var>math.sqrt</var>.</p>
<pre><code class="language-python">import math

# Возведение в степень
print(math.pow(10, 10))
# Извлечение квадратного корня
print(math.sqrt(16))
</code></pre>
<pre><samp>10000000000.0
4.0</samp></pre>
<p>В&nbsp;модуль <var>math</var> встроены тригонометрические функции вычисления синуса, косинуса, тангенса и&nbsp;т.&nbsp;д.:</p>
<pre><code class="language-python">import math

print(math.sin(math.radians(90)))
print(math.cos(math.radians(0)))
print(math.tan(math.radians(45)))
</code></pre>
<pre><samp>1.0
1.0
0.9999999999999999</samp></pre>
<p>Обратите внимание: они принимают на&nbsp;вход значение угла в&nbsp;радианах, поэтому данные в&nbsp;градусах надо перевести в&nbsp;радианы с&nbsp;помощью функции модуля <var>math</var>, которая называется <var>radians</var>. Существует и&nbsp;зеркальная функция degrees для перевода радиан в&nbsp;градусы.</p>
<pre><code class="language-python">import math

print(math.degrees(math.pi))
</code></pre>
<pre><samp>180.0</samp></pre>
<p>Кроме того, <var>math</var> содержит ряд дополнительных интересных функций, например, знает теорему Пифагора. Функция <code>hypot(a, b)</code> возвращает длину гипотенузы по&nbsp;двум катетам прямоугольного треугольника. Полный перечень функций и&nbsp;их&nbsp;описания можно посмотреть в&nbsp;документации.</p>
</section>
<section class="material__chapter">
<h2 id="5">Модуль random</h2>
<div class="material__content-positioner"><img class="material__illustration" src="https://yastatic.net/s3/lyceum/content/images/first-year/lesson-25/8.svg" width="600" height="auto" /></div>
<p>Этот модуль предназначен для работы с&nbsp;псевдослучайными последовательностями. Такие последовательности важны в&nbsp;математическом моделировании, в&nbsp;криптографии и&nbsp;в&nbsp;различных играх.</p>
<p>Давайте посмотрим структуру модуля.</p>
<pre><code class="language-python">&gt;&gt;&gt; import random
&gt;&gt;&gt; dir(random)
</code></pre>
<pre><samp>['BPF', 'LOG4', 'NV_MAGICCONST', 'RECIP_BPF', 'Random', 'SG_MAGICCONST',
 'SystemRandom', 'TWOPI', '_BuiltinMethodType', '_MethodType', '_Sequence', 
 '_Set','__all__', '__builtins__', '__cached__', '__doc__', '__file__', 
 '__loader__','__name__', '__package__', '__spec__', '_acos', '_ceil', 
 '_cos', '_e', '_exp','_inst', '_log', '_pi', '_random', '_sha512', '_sin', 
 '_sqrt', '_test','_test_generator', '_urandom', '_warn', 'betavariate', 
 'choice', 'expovariate','gammavariate', 'gauss', 'getrandbits', 'getstate', 
 'lognormvariate','normalvariate', 'paretovariate', 'randint', 'random', 
 'randrange', 'sample','seed', 'setstate', 'shuffle', 'triangular', 'uniform', 
 'vonmisesvariate','weibullvariate']</samp></pre>
<p>Как видим, довольно много функций. Давайте рассмотрим некоторые из&nbsp;них.</p>
<p>Для получения одного псевдослучайного целого числа можно воспользоваться одной из&nbsp;двух функций: <var>randrange</var> или <var>randint</var>. Функция <var>randrange</var> возвращает случайное число из&nbsp;диапазона. Как и&nbsp;в&nbsp;обычном <var>range</var>, мы&nbsp;можем указать начало, конец и&nbsp;шаг диапазона. Функция <var>randint</var> работает похожим образом, но&nbsp;у&nbsp;нее границы диапазона&nbsp;&mdash; обязательные параметры, нельзя указать шаг, и&nbsp;верхняя граница включена в&nbsp;диапазон генерации.</p>
<pre><code class="language-python">from random import randrange, randint

# возвращаем случайное целое из диапазона
print(randrange(100))
print(randrange(40, 100, 5))
print(randint(10, 20))
</code></pre>
<section class="material__note">
<p class="material__note-heading"><strong>Функция choice</strong></p>
<p>Одна из&nbsp;самых популярных&nbsp;&mdash; функция <var>choice</var>. С&nbsp;ее&nbsp;помощью можно выбрать один вариант из&nbsp;нескольких альтернатив, заданных в&nbsp;списке, кортеже, строке или любом другом индексируемом типе. <var>choice</var> нельзя применять для неупорядоченных коллекций&nbsp;&mdash; например, множеств и&nbsp;словарей.</p>
</section>
<p>Например, вот так можно моделировать подкидывание монетки:</p>
<pre><code class="language-python">&gt;&gt;&gt; from random import choice
&gt;&gt;&gt; choice((1, 2))
</code></pre>
<pre><samp>2</samp></pre>
<pre><code class="language-python">&gt;&gt;&gt; choice(["орел", "решка"])
</code></pre>
<pre><samp>'орел'</samp></pre>
<pre><code class="language-python">&gt;&gt;&gt; choice("ab")
</code></pre>
<pre><samp>'a'</samp></pre>
<p>А&nbsp;так&nbsp;&mdash; сымитировать несколько бросков игральных кубиков:</p>
<pre><code class="language-python">from random import choice

dashes = [1, 2, 3, 4, 5, 6]
for i in range(1, 10):
    print(choice(dashes), choice(dashes))
</code></pre>
<pre><samp>2 5
6 5
6 1
1 2
5 6
6 1
4 2
4 2
2 3</samp></pre>
<p>Если задать символы на&nbsp;сторонах кубика с&nbsp;использованием кодировки Unicodе, все будет еще реалистичнее.</p>
<pre><code class="language-python">from random import choice

dashes = ['\u2680', '\u2681', '\u2682', '\u2683', '\u2684', '\u2685']
for i in range(1, 10):
    print(choice(dashes), choice(dashes))
</code></pre>
<pre><samp>⚄ ⚄
⚀ ⚂
⚄ ⚃
⚄ ⚂
⚃ ⚁
⚀ ⚂
⚀ ⚄
⚃ ⚁
⚄ ⚂</samp></pre>
<p>Можно сделать симуляцию магического шара с&nbsp;ответами <span style="text-decoration: underline; color: #0000ff;"> <a class="material__link" style="color: #0000ff; text-decoration: underline;" href="https://ru.wikipedia.org/wiki/Magic_8_ball" target="_blank" rel="noopener noreferrer">magic 8&nbsp;ball</a></span>.</p>
<pre><code class="language-python">from random import choice
 
choices = [
    'It is certain (Бесспорно)',
    'It is decidedly so (Предрешено)',
    'Without a doubt (Никаких сомнений)',
    'Yes &mdash; definitely (Определённо да)',
    'You may rely on it (Можешь быть уверен в этом)',
    'As I see it, yes (Мне кажется &mdash; &laquo;да&raquo;)',
    'Most likely (Вероятнее всего)',
    'Outlook good (Хорошие перспективы)',
    'Signs point to yes (Знаки говорят &mdash; &laquo;да&raquo;)',
    'Yes (Да)',
    'Reply hazy, try again (Пока не ясно, попробуй снова)',
    'Ask again later (Спроси позже)',
    'Better not tell you now (Лучше не рассказывать)',
    'Cannot predict now (Сейчас нельзя предсказать)',
    'Concentrate and ask again (Соберись и спроси опять)',
    'Don&rsquo;t count on it (Даже не думай)',
    'My reply is no (Мой ответ &mdash; &laquo;нет&raquo;)',
    'My sources say no (По моим данным &mdash; &laquo;нет&raquo;)',
    'Outlook not so good (Перспективы не очень хорошие)',        
    'Very doubtful (Весьма сомнительно)',
]
 
for i in range(5):
    input("Ваш вопрос: ")
    print(choice(choices))
</code></pre>
<p>Вот как может выглядеть работа этой программы:</p>
<pre><samp>Ваш вопрос: Программировать хорошо?
Yes &mdash; definitely (Определённо да)
Ваш вопрос: Есть ли перспективы у Python?
You may rely on it (Можешь быть уверен в этом)
Ваш вопрос: Нет ли тайного заговора против школьников?
Signs point to yes (Знаки говорят &mdash; &laquo;да&raquo;)
Ваш вопрос: Может быть правительство?
Without a doubt (Никаких сомнений)
Ваш вопрос: Со мной будет что-то плохое из-за того, что я это узнал?
It is decidedly so (Предрешено)</samp></pre>
<p>Обратите внимание: если попробовать вызвать <var>choice</var> с&nbsp;пустой коллекцией, ваша программа упадет с&nbsp;ошибкой. Поэтому перед использованием этой функции будет нелишним проверять наличие в&nbsp;коллекции хотя&nbsp;бы одного элемента.</p>
<pre><code class="language-python">from random import choice

my_str = "Hello, world"
if my_str:
    print(choice(my_str), choice(my_str))
</code></pre>
<p>Если нам нужно вернуть не&nbsp;один, а&nbsp;несколько элементов, на&nbsp;помощь придут функции <var>choiсes</var> и&nbsp;<var>sample</var>. <var>choices</var> возвращает заданное именованным параметром k&nbsp;количество элементов с&nbsp;возможными повторами (коллекция должна быть непустой), <var>sample</var>&nbsp;&mdash; без повторов, но&nbsp;выборка должна быть меньше или равна длине коллекции, иначе тоже будет ошибка.</p>
<pre><code class="language-python">from random import choices, sample

my_list = ['Yes', 'No', 'May be']
# выбираем k элементов коллекции с повторениями
print(choices(my_list, k=5))
# выбираем k элементов без повторений
print(sample(range(10), 6))
</code></pre>
<pre><samp>['No', 'Yes', 'Yes', 'Yes', 'No']
[8, 9, 1, 6, 7, 5]</samp></pre>
<p>Функция <var>shuffle</var> перемешивает список, при этом меняется сам список, который передается как аргумент функции.</p>
<pre><code class="language-python">from random import shuffle

a = list(range(100))
shuffle(a) # меняет сам список
print(a[:10])
</code></pre>
<pre><samp>[12, 97, 67, 13, 68, 58, 87, 92, 32, 40]</samp></pre>
<p>А&nbsp;функция <var>random</var> возвращает случайное вещественное число от&nbsp;0&nbsp;до&nbsp;1 (не&nbsp;включительно):</p>
<pre><code class="language-python">from random import random as rnd

print(rnd(), rnd(), rnd()) # вещественное число [0, 1)
</code></pre>
<pre><samp>0.7807663953103449 0.1503300563891775 0.6068329639725171</samp></pre>
</section>
<section class="material__chapter">
<h2 id="6">Модуль datetime</h2>
<p>Модуль <var>datetime</var> предназначен для работы с&nbsp;датами и&nbsp;временем и&nbsp;предоставляет, кроме функций, несколько новых типов данных. Библиотека чаще всего применяется для того, чтобы узнать текущую дату или время:</p>
<pre><code class="language-python">import datetime as dt

print(dt.datetime.now())
print(dt.datetime.now().time())
print(dt.datetime.now().date())
</code></pre>
<pre><samp>2022-02-19 18:34:42.071614
18:34:42.071614
2022-02-19</samp></pre>
<p>Но&nbsp;ее&nbsp;можно использовать и&nbsp;для более интересных вещей, она предоставляет несколько интересных типов данных: <var>time</var>, <var>date</var>, <var>datetime</var>&nbsp;&mdash; для хранения времени, даты и&nbsp;совместно даты и&nbsp;времени.</p>
<div class="material__content-positioner"><img class="material__illustration" src="https://yastatic.net/s3/lyceum/content/images/first-year/lesson-25/datetime.svg" width="680" height="auto" /></div>
<p><var>date</var>&nbsp;&mdash; тип для хранения даты. При создании новой даты нужно указать год, месяц и&nbsp;день. С&nbsp;помощью функции <code>today()</code> можно узнать текущую дату на&nbsp;компьютере, а&nbsp;с&nbsp;помощью функции <code>weekday()</code>&nbsp;&mdash; день недели (нумерация с&nbsp;0).</p>
<pre><code class="language-python">import datetime as dt

# тип данных 'дата' (год + месяц + день)
my_date = dt.date(2020, 11, 7)
print(my_date)
print(dt.date.today())
print(dt.date.today().weekday())
</code></pre>
<pre><samp>2020-11-07
2022-02-19
5</samp></pre>
<p><var>time</var>&nbsp;&mdash; тип для хранения времени. При создании объекта данного типа надо указать час, минуту, секунду.</p>
<pre><code class="language-python">import datetime as dt

# тип данных 'время' (час + минута + секунда + милисекунда)
my_time = dt.time(23, 15, 29)
print(my_time)
</code></pre>
<p><var>datetime</var>&nbsp;&mdash; тип для объединения даты и&nbsp;времени. Можно объединить <var>date</var> и&nbsp;<var>time</var> в&nbsp;один <var>datetime</var> с&nbsp;помощью функции <code>combine(date, time)</code>. Обратиться к&nbsp;отдельным частям объекта <var>datetime</var> можно через точку и&nbsp;название части: например, <var>year</var> (аналогично можно поступить для <var>date</var> или <var>time</var>). С&nbsp;помощью функции <code>now()</code> можно узнать текущее дату и&nbsp;время.</p>
<pre><code class="language-python">import datetime as dt

# тип данных дата + время
my_datetime = dt.datetime(2022, 12, 15, 13, 25, 9)
print(my_datetime)
# можно объединить дату и время
my_date = dt.date(2020, 11, 5)
my_time = dt.time(23, 15, 29)
my_datetime = dt.datetime.combine(my_date, my_time)
print(my_datetime)
print(my_datetime.year)
# и получить текущую дату и время
print(dt.datetime.now())
</code></pre>
<pre><samp>2022-12-15 13:25:09
2020-11-05 23:15:29
2020
2022-02-19 11:10:00.919702</samp></pre>
<p>Тип <var>timedelta</var> необходим для создания объектов, содержащих некоторый временной интервал. При создании таких объектов можно указать, сколько дней, часов, минут, секунд, недель содержит временной интервал. Как и&nbsp;с&nbsp;другими типами модуля <var>datetime</var>, с&nbsp;частями временного интервала можно обращаться аналогично. С&nbsp;помощью функции <code>total_seconds()</code> можно узнать длину интервала в&nbsp;секундах.</p>
<pre><code class="language-python">import datetime as dt

# тип данных временной интервал
delta_time1 = dt.timedelta(seconds=10, weeks=2)
print(delta_time1)
print(delta_time1.days)
print(delta_time1.total_seconds())
</code></pre>
<pre><samp>14 days, 0:00:10
14
1209610.0</samp></pre>
<p>Интервал, в&nbsp;отличие от&nbsp;предыдущих типов, может быть отрицательным.</p>
<pre><code class="language-python">import datetime as dt

# интервал может быть отрицательным
delta_time2 = dt.timedelta(seconds=-10, weeks=-2)
print(delta_time2)
</code></pre>
<pre><samp>-15 days, 23:59:50</samp></pre>
<p>Для интервалов, дат, времени и&nbsp;типа <var>datetime</var> поддерживаются математические и&nbsp;логические операции. Мы&nbsp;можем сложить два интервала времени, вычесть один из&nbsp;другого, увеличить интервал в&nbsp;n&nbsp;раз, уменьшить интервал в&nbsp;n&nbsp;раз, а&nbsp;с&nbsp;помощью деления узнать, сколько раз один интервал помещается в&nbsp;другой.</p>
<pre><code class="language-python">import datetime as dt

# поддерживаются математические и логические операции
# для интервалов времени
delta_time1 = dt.timedelta(days=4, hours=4)
delta_time2 = dt.timedelta(days=1, hours=1)
print(delta_time1 - delta_time2)
print(delta_time1 + delta_time2)
print(delta_time1 * 10)
print(delta_time1 / 10)
print(delta_time1 / delta_time2)
</code></pre>
<pre><samp>3 days, 3:00:00
5 days, 5:00:00
41 days, 16:00:00
10:00:00
4.0</samp></pre>
<p>К&nbsp;датам мы&nbsp;можем прибавлять временной интервал или удалять интервал для получения новой даты, которая раньше/позже на&nbsp;этот интервал. При вычитании одной даты из&nbsp;другой мы&nbsp;получим интервал времени между датами. С&nbsp;помощью логических функций мы&nbsp;можем узнать, какая дата позже (т.&nbsp;е. больше) или раньше (т.&nbsp;е. меньше).</p>
<pre><code class="language-python">import datetime as dt

# поддерживаются математические и логические операции для дат
date1 = dt.date(2022, 2, 19)
date2 = dt.date(2020, 10, 7)
delta_time1 = dt.timedelta(days=4, hours=4)
print(date1 + delta_time1)
print(date1 - delta_time1)
print(date1 - date2)
print(date2 &gt; date1)
</code></pre>
<pre><samp>2022-02-23
2022-02-15
500 days, 0:00:00
False</samp></pre>
<p>Аналогичные действия работают и&nbsp;для <var>datetime</var>.</p>
<pre><code class="language-python">import datetime as dt

# поддерживаются математические и логические операции для типа datetime
datetime1 = dt.datetime(2022, 12, 15, 13, 25, 9)
datetime2 = dt.datetime(2020, 12, 15, 13, 25, 9)
delta_time1 = dt.timedelta(days=4, hours=4)
print(datetime1 + delta_time1)
print(datetime1 - delta_time1)
print(datetime1 - datetime2)
print(datetime2 &lt; datetime1)
</code></pre>
<pre><samp>2022-12-19 17:25:09
2022-12-11 09:25:09
730 days, 0:00:00
True</samp></pre>
<p>Кроме того, для времени, даты и&nbsp;типа <var>datetime</var> поддерживается форматированный вывод, который позволяет представлять информацию в&nbsp;удобном для нас виде.</p>
<pre><code class="language-python">import datetime as dt

# поддерживается форматированный вывод
my_format = "%B"
print(dt.datetime.now().strftime("%A %d-%B-%y %H:%M:%S"))
print(dt.date.today().strftime(my_format))
</code></pre>
<pre><samp>Saturday 19-February-22 10:54:42
February</samp></pre>
<p>Основные обозначения для строки-формата приведены в&nbsp;таблице:</p>
<div class="material__content-positioner">
<table style="border-collapse: collapse; width: 100%;" border="1" cellpadding="5px">
<thead>
<tr>
<th>Команда</th>
<th>Значение</th>
<th>Пример</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>%a</code></td>
<td>Аббревиатура дня недели</td>
<td>Sun, Mon, &hellip;, Sat (en_US);So, Mo, &hellip;, Sa (de_DE)</td>
</tr>
<tr>
<td><code>%A</code></td>
<td>Полное название дня недели</td>
<td>Sunday, Monday, &hellip;, Saturday (en_US);Sonntag, Montag, &hellip;, Samstag (de_DE)</td>
</tr>
<tr>
<td><code>%w</code></td>
<td>День недели как десятичное число, где 0&nbsp;&mdash; воскресенье, а&nbsp;6&nbsp;&mdash; суббота</td>
<td>0, 1, &hellip;, 6</td>
</tr>
<tr>
<td><code>%d</code></td>
<td>День месяца в&nbsp;формате из&nbsp;двух цифр</td>
<td>01, 02, &hellip;, 31</td>
</tr>
<tr>
<td><code>%b</code></td>
<td>Аббревиатура месяца</td>
<td>Jan, Feb, &hellip;, Dec (en_US);Jan, Feb, &hellip;, Dez (de_DE)</td>
</tr>
<tr>
<td><code>%B</code></td>
<td>Полное название месяца</td>
<td>January, February, &hellip;, December (en_US);Januar, Februar, &hellip;, Dezember (de_DE)</td>
</tr>
<tr>
<td><code>%m</code></td>
<td>Номер месяца в&nbsp;формате из&nbsp;двух цифр</td>
<td>01, 02, &hellip;, 12</td>
</tr>
<tr>
<td><code>%y</code></td>
<td>Последние 2 цифры года (год без века)</td>
<td>00, 01, &hellip;, 99</td>
</tr>
<tr>
<td><code>%Y</code></td>
<td>Год полностью</td>
<td>0001, 0002, &hellip;, 2013, 2014, &hellip;, 9998, 9999</td>
</tr>
<tr>
<td><code>%H</code></td>
<td>Час в&nbsp;24-часовом формате из&nbsp;двух цифр</td>
<td>00, 01, &hellip;, 23</td>
</tr>
<tr>
<td><code>%I</code></td>
<td>Час в&nbsp;12-часовом формате из&nbsp;двух цифр</td>
<td>01, 02, &hellip;, 12</td>
</tr>
<tr>
<td><code>%p</code></td>
<td>AM или PM</td>
<td>AM, PM (en_US);am, pm (de_DE)</td>
</tr>
<tr>
<td><code>%M</code></td>
<td>Минута в&nbsp;формате из&nbsp;двух цифр</td>
<td>00, 01, &hellip;, 59</td>
</tr>
<tr>
<td><code>%S</code></td>
<td>Секунда в&nbsp;формате их&nbsp;двух цифр</td>
<td>00, 01, &hellip;, 59</td>
</tr>
<tr>
<td><code>%f</code></td>
<td>Микросекунды в&nbsp;формате из&nbsp;6&nbsp;цифр</td>
<td>000000, 000001, &hellip;, 999999</td>
</tr>
<tr>
<td><code>%j</code></td>
<td>День в&nbsp;году в&nbsp;формате из&nbsp;3&nbsp;цифр</td>
<td>001, 002, &hellip;, 366</td>
</tr>
<tr>
<td><code>%U</code></td>
<td>Неделя в&nbsp;году</td>
<td>00, 01, &hellip;, 53</td>
</tr>
<tr>
<td><code>%c</code></td>
<td>Принятое, согласно локальным настройкам, представление даты и&nbsp;времени</td>
<td>Tue Aug 16 21:30:00 1988 (en_US);Di 16 Aug 21:30:00 1988 (de_DE)</td>
</tr>
<tr>
<td><code>%x</code></td>
<td>Принятое, согласно локальным настройкам, представление даты</td>
<td>08/16/88 (None);08/16/1988 (en_US);16.08.1988 (de_DE)</td>
</tr>
<tr>
<td><code>%X</code></td>
<td>Принятое, согласно локальным настройкам, представление времени</td>
<td>21:30:00 (en_US);21:30:00 (de_DE)</td>
</tr>
<tr>
<td><code>%%</code></td>
<td>Знак '%'</td>
<td>%</td>
</tr>
</tbody>
</table>
</div>
<p>Более подробно можно посмотреть в&nbsp;<span style="text-decoration: underline; color: #0000ff;"><a class="material__link" style="color: #0000ff; text-decoration: underline;" href="https://docs.python.org/3.10/library/datetime.html" target="_blank" rel="noopener noreferrer">документации</a></span>.</p>
</section>
<section class="material__chapter">
<h2 id="7">Модуль pprint</h2>
<p>Модуль <var>pprint</var> содержит функцию <var>pprint</var>, которую удобно использовать при выводе сложных типов данных. <var>pprint</var> старается вывести в&nbsp;консоль объекты в&nbsp;наиболее читабельном для человека виде. Ее&nbsp;особенно удобно использовать для вывода матриц.</p>
<pre><code class="language-python">import random
from pprint import pprint

a = [random.sample(range(20), 6) for _ in range(10)]
print(a)
print()
pprint(a)
</code></pre>
<pre><samp>[[0, 12, 14, 7, 15, 10], [8, 18, 15, 5, 13, 14], [15, 4, 14, 18, 17, 7], [11, 16, 19, 17, 14, 2], [6, 13, 8, 17, 9, 14], [15, 10, 4, 5, 17, 9], [16, 9, 14, 15, 13, 7], [12, 14, 9, 4, 7, 11], [13, 18, 12, 3, 17, 15], [5, 18, 16, 17, 9, 6]]

[[0, 12, 14, 7, 15, 10],
 [8, 18, 15, 5, 13, 14],
 [15, 4, 14, 18, 17, 7],
 [11, 16, 19, 17, 14, 2],
 [6, 13, 8, 17, 9, 14],
 [15, 10, 4, 5, 17, 9],
 [16, 9, 14, 15, 13, 7],
 [12, 14, 9, 4, 7, 11],
 [13, 18, 12, 3, 17, 15],
 [5, 18, 16, 17, 9, 6]]</samp></pre>
<p><var>pprint</var> работает и&nbsp;для словарей.</p>
<pre><code class="language-python">from pprint import pprint

b = {x: x ** 2 for x in range(20)}
print(b)
print()
pprint(b)
</code></pre>
<pre><samp>{0: 0, 1: 1, 2: 4, 3: 9, 4: 16, 5: 25, 6: 36, 7: 49, 8: 64, 9: 81, 10: 100, 11: 121, 12: 144, 13: 169, 14: 196, 15: 225, 16: 256, 17: 289, 18: 324, 19: 361}

{0: 0,
 1: 1,
 2: 4,
 3: 9,
 4: 16,
 5: 25,
 6: 36,
 7: 49,
 8: 64,
 9: 81,
 10: 100,
 11: 121,
 12: 144,
 13: 169,
 14: 196,
 15: 225,
 16: 256,
 17: 289,
 18: 324,
 19: 361}</samp></pre>
<p>Мы&nbsp;рассмотрели только несколько встроенных библиотек&nbsp;&mdash; их&nbsp;намного больше. И&nbsp;у&nbsp;рассмотренных мы&nbsp;разобрали далеко не&nbsp;все функции. Пользуйтесь функциями <var>dir</var> и&nbsp;<var>help</var> и&nbsp;читайте документацию, в&nbsp;ней приведены примеры и&nbsp;объяснены нюансы.</p>
</section></article>
						</section>
					</div>
				</main>
			</div>
		</div>
<footer class="footer">
	<div class="footer__controls">
		<a rel="noopener noreferrer" target="_blank" class="footer__help-link"
		   href="https://yandex.ru/legal/lms_termsofuse/">Terms of use</a>
	</div>
	<div class="footer__copyright">
		<div>
			<div class="Markdown">
				<div class="paragraph">Generated by <a rel="noopener noreferrer" target="_blank"
				                                       class="footer__help-link"
				                                       href="https://github.com/rodion-gudz/YandexLyceumDocs">Yandex Lyceum Docs</a>
				</div>
			</div>
		</div>
	</div>
</footer>	</div>
	<script src="/js/prism.js"></script>
</body>
</html>