<!-- Generated by https://github.com/rodion-gudz/YandexLyceumDocs -->

<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <title>Учебник | Вложенные списки </title>
    <link rel="stylesheet" href="/css/client.css"/>
	<link rel="stylesheet" href="/css/material.css">
	<link rel="stylesheet" href="/css/prism.css"/>
</head>
<body>
	<div class="lesson-material">
		<div class="layout">
			<div class="layout__wrapper layout__wrapper_type_narrow layout__wrapper_fixed">
				<main class="layout__main">
					<div class="lesson-material__wrapper">
						<a class="nav-tab nav-tab_back nav-tab_view_button" href="../..">
						<span data-lego="react"
						      class="icon icon_type_arrow-short icon_direction_left icon_size_s nav-tab__arrow-icon"></span>
							<span class="nav-tab__inner">Урок Вл. списки</span>
						</a>
						<section class="lesson-material__content">
							<article class="material"><h1>Вложенные списки</h1>
<section class="material__plan"><nav>
<ol>
<li><a class="material__link" href="#1">Вложенные списки. Двумерные вложенные списки (матрицы)</a></li>
<li><a class="material__link" href="#2">Создание двумерного списка</a></li>
<li><a class="material__link" href="#3">Перебор элементов двумерного списка. Вывод списка на&nbsp;экран</a></li>
<li><a class="material__link" href="#4">Матрицы</a></li>
</ol>
</nav></section>
<section class="material__annotation">
<h2>Аннотация</h2>
<p>Мы&nbsp;уже упоминали о&nbsp;том, что элементами списка могут быть любые объекты&nbsp;&mdash; числа, строки, кортежи, множества и&nbsp;даже другие списки. Сегодня мы&nbsp;рассмотрим подробнее списки, элементами которых являются другие (вложенные) списки.</p>
</section>
<section class="material__chapter">
<h2 id="1">Вложенные списки. Двумерные вложенные списки (матрицы)</h2>
<p>Язык Python не&nbsp;ограничивает нас в&nbsp;уровнях вложенности: элементами списка могут быть списки, их элементами могут быть другие списки, элементами которых в&nbsp;свою очередь могут быть другие списки и&nbsp;т.&nbsp;д. Но&nbsp;для решения практических задач сначала важно научиться работать с&nbsp;двумерными списками.</p>
<p>С&nbsp;помощью таких списков очень удобно представить прямоугольную таблицу (матрицу)&nbsp;&mdash; каждый вложенный список при этом будет являться строкой. Именно такая структура данных используется, например, для представления игровых полей при программировании таких игр, как шахматы, крестики-нолики, морской бой, 2048.</p>
</section>
<section class="material__chapter">
<h2 id="2">Создание двумерного списка</h2>
<section class="material__note">
<p class="material__note-heading"><strong>Создание двумерного списка</strong></p>
<p>Важно понять, что список списков принципиально ничем не&nbsp;отличается, например, от&nbsp;списка чисел. Чтобы задать список списков в&nbsp;программе, мы&nbsp;также перечисляем элементы через запятую в&nbsp;квадратных скобках:</p>
<pre><code class="language-python">table = [[1, 2, 3], [4, 5, 6], [7, 8, 9]]
</code></pre>
</section>
<p>Если элементы списка вводятся через клавиатуру (каждая строка таблицы на&nbsp;отдельной строке, всего <var>n</var>&nbsp;строк, числа в&nbsp;строке разделяются пробелами), для ввода списка можно использовать следующий код:</p>
<pre><code class="language-python">table = []
for i in range(n):
    row = [int(el) for el in input().split()]
    table.append(row)
</code></pre>
<p>В&nbsp;этом примере мы&nbsp;используем метод <var>append</var>, передавая ему в&nbsp;качестве аргумента другой список. Так у&nbsp;нас получается список списков.</p>
<section class="material__note">
<p class="material__note-heading"><strong>Списочные выражения</strong></p>
<p>Для создания вложенных списков можно использовать списочные выражения. Например, список из&nbsp;предыдущего примера можно создать так:</p>
<pre><code class="language-python">table = [[int(el) for el in input().split()] for i in range(n)]
</code></pre>
</section>
<p>Попробуем теперь составить список размером 10&times;10&nbsp;элементов, заполненный нулями (такая задача нередко возникает при написании различных программ). Может показаться, что сработает конструкция <code>a = [[0] * 10] * 10</code>, но&nbsp;это не&nbsp;так. Попробуйте понять почему.</p>
<p><em>Подсказка: создайте такой список, измените в&nbsp;нем один элемент и&nbsp;посмотрите, что получилось.</em></p>
<p>Самый короткий способ выполнить такую задачу&nbsp;&mdash; при помощи списочного выражения:</p>
<pre><code class="language-python">[[0] * 10 for _ in range(10)] 
</code></pre>
<pre><samp>[[0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
[0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
[0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
[0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
[0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
[0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
[0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
[0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
[0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
[0, 0, 0, 0, 0, 0, 0, 0, 0, 0]]</samp></pre>
<section class="material__note">
<p class="material__note-heading"><strong>Важно!</strong></p>
<p>Обратите внимание: в&nbsp;этом примере используется переменная <var>_</var>. Это вполне законное имя переменной, как&nbsp;и, например, <var>i</var>. Однако по&nbsp;соглашению оно используется для переменной-счетчика только в&nbsp;том случае, когда принимаемые этой переменной значения не&nbsp;важны, а&nbsp;важно лишь количество итераций.</p>
</section>
<p>Подобное имя переменной можно было&nbsp;бы использовать и&nbsp;в&nbsp;первом примере списочного выражения:</p>
<pre><code class="language-python">table = [[int(el) for el in input().split()] for _ in range(n)]
</code></pre>
</section>
<section class="material__chapter">
<h2 id="3">Перебор элементов двумерного списка. Вывод списка на&nbsp;экран</h2>
<p>Для доступа к&nbsp;элементу списка мы&nbsp;должны указать индекс этого элемента в&nbsp;квадратных скобках. В&nbsp;случае двумерных вложенных списков мы&nbsp;должны указать два индекса (каждый в&nbsp;отдельных квадратных скобках), в&nbsp;случае трехмерного списка&nbsp;&mdash; три индекса и&nbsp;т.&nbsp;д. В&nbsp;двумерном случае сначала указывается номер строки, затем&nbsp;&mdash; номер столбца (сначала выбирается вложенный список, а&nbsp;затем&nbsp;&mdash; элемент из&nbsp;него).</p>
<pre><code class="language-python">table = [[1, 2, 3], [4, 5, 6], [7, 8, 9]]
print(table[0][0], table[0][1], table[1][0])
</code></pre>
<p>Для того чтобы перебрать все элементы матрицы (чтобы, например, вывести их&nbsp;на&nbsp;экран), обычно используются вложенные циклы. Например, список из&nbsp;предыдущего примера можно вывести на&nbsp;экран таким образом:</p>
<pre><code class="language-python">for i in range(3):
    for j in range(3):
        print(table[i][j], end='\t')
    print()
</code></pre>
<p>В&nbsp;этом примере мы&nbsp;перебирали индексы элементов. А&nbsp;что будет, если перебирать сами элементы? Например, если мы&nbsp;хотим подсчитать сумму всех элементов матрицы, можно написать такой цикл:</p>
<pre><code class="language-python">s = 0
for row in table:
    s += sum(row)
print(s)
</code></pre>
</section>
<section class="material__chapter">
<h2 id="4">Матрицы</h2>
<p>В&nbsp;некоторых задачах этого урока вам встретится важный математический объект, который называется &laquo;матрица&raquo;.</p>
<section class="material__note">
<p class="material__note-heading"><strong>Матрица</strong></p>
<p>Матрица&nbsp;&mdash; прямоугольная табличка, заполненная какими-то значениями, обычно числами.</p>
</section>
<p>В&nbsp;математике вам встретится множество различных применений матриц, поскольку с&nbsp;их&nbsp;помощью многие задачи гораздо проще сформулировать и&nbsp;решить. Мы&nbsp;же сконцентрируемся на&nbsp;том, как хранить матрицу в&nbsp;памяти компьютера.</p>
<p>В&nbsp;первую очередь от&nbsp;матрицы нам нужно уметь получать элемент в&nbsp;<var>i</var>-й строке и&nbsp;<var>j</var>-м столбце. Чтобы этого добиться, обычно поступают так: заводят список строк матрицы, а&nbsp;каждая строка матрицы сама по&nbsp;себе тоже является списком элементов. То&nbsp;есть мы&nbsp;получили список списков чисел. Теперь, чтобы получить элемент, нам достаточно из&nbsp;списка строк матрицы выбрать <var>i</var>-ю и&nbsp;из&nbsp;этой строки взять <var>j</var>-й элемент.</p>
<p>Давайте заведем простую матрицу&nbsp;<var>M</var> размера 2&times;3 (2&nbsp;строки и&nbsp;3&nbsp;столбца) и&nbsp;получим элемент на&nbsp;позиции (1, 3). Обратите внимание: в&nbsp;математике нумерация строк и&nbsp;столбцов идет с&nbsp;единицы, а&nbsp;не&nbsp;с&nbsp;нуля. И, по&nbsp;договоренности среди математиков, сначала всегда указывается строка, а&nbsp;лишь затем&nbsp;&mdash; столбец. Элемент на&nbsp;<var>i</var>-ой строке, <var>j</var>-м столбце матрицы <var>M</var>&nbsp;в математике обозначается M<sub>i,j</sub>. Итак:</p>
<pre><code class="language-python">matrix  = [[1, 2, 3],
           [2, 4, 6]]
print(matrix[0][2])  # =&gt; 3
</code></pre>
<p><var>matrix</var>&nbsp;&mdash; вся матрица, <code>matrix[0]</code>&nbsp;&mdash; список значений в&nbsp;первой строке, <code>matrix[0][2]</code>&nbsp;&mdash; элемент в&nbsp;третьем столбце в&nbsp;этой строке.</p>
<p>Чтобы перебрать элементы матрицы, приходится использовать двойные циклы. Например, выведем на&nbsp;экран все элементы матрицы, перебирая их&nbsp;по&nbsp;столбцам:</p>
<pre><code class="language-python">for col in range(3):
    for row in range(2):
        print(matrix[row][col])
</code></pre>
</section></article>
						</section>
					</div>
				</main>
			</div>
		</div>
<footer class="footer">
	<div class="footer__controls">
		<a rel="noopener noreferrer" target="_blank" class="footer__help-link"
		   href="https://yandex.ru/legal/lms_termsofuse/">Terms of use</a>
	</div>
	<div class="footer__copyright">
		<div>
			<div class="Markdown">
				<div class="paragraph">Generated by <a rel="noopener noreferrer" target="_blank"
				                                       class="footer__help-link"
				                                       href="https://github.com/rodion-gudz/YandexLyceumDocs">Yandex Lyceum Docs</a>
				</div>
			</div>
		</div>
	</div>
</footer>	</div>
	<script src="/js/prism.js"></script>
</body>
</html>